<!-- Module Modal -->
<div x-show="moduleModalOpen" x-transition.opacity x-cloak class="fixed z-50 inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center px-4">
    <div @click.away="moduleModalOpen = false" class="bg-white rounded-lg shadow-xl p-6 w-full max-w-lg mx-auto">
        <h3 x-ref="moduleModalTitle" class="text-lg font-medium text-gray-900">Add New Module</h3>
        <form x-ref="moduleForm" @submit.prevent="submitForm($event, 'module')" class="mt-4 space-y-4">
            
            <div>
                <label for="id_module_form_title" class="block text-sm font-medium text-gray-700">Title</label>
                <input type="text" name="title" x-ref="moduleFormTitle" required id="id_module_form_title" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            </div>
            <div>
                <label for="id_module_form_order" class="block text-sm font-medium text-gray-700">Order</label>
                <input type="number" name="order" x-ref="moduleFormOrder" required id="id_module_form_order" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            </div>

            <div class="flex justify-end space-x-3 pt-4 border-t mt-6">
                <button type="button" @click="moduleModalOpen = false" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button>
                <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">Save Module</button>
            </div>
        </form>
    </div>
</div>

<!-- Lesson Modal -->
<div x-show="lessonModalOpen" x-transition.opacity x-cloak class="fixed z-50 inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center px-4">
    <div @click.away="lessonModalOpen = false" class="bg-white rounded-lg shadow-xl p-6 w-full max-w-lg mx-auto overflow-y-auto max-h-[90vh]">
        <h3 x-ref="lessonModalTitle" class="text-lg font-medium text-gray-900">Add New Lesson</h3>
        
        <form x-ref="lessonForm" @submit.prevent="submitForm($event, 'lesson')" class="mt-4 space-y-4">
            {{ lesson_form.as_p }} 
            
            <div class="flex justify-end space-x-3 pt-4 border-t mt-6">
                <button type="button" @click="lessonModalOpen = false" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button>
                <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">Save Lesson</button>
            </div>
        </form>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div x-show="deleteModalOpen" x-transition.opacity x-cloak class="fixed z-50 inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center px-4">
    <div @click.away="deleteModalOpen = false" class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto">
        <div class="sm:flex sm:items-start">
            <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                <i class="fas fa-exclamation-triangle text-red-600"></i>
            </div>
            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                <h3 class="text-lg leading-6 font-medium text-gray-900">Delete <span x-text="deleteType"></span></h3>
                <div class="mt-2">
                    <p class="text-sm text-gray-500">Are you sure you want to delete this <span x-text="deleteType"></span>? This action cannot be undone.</p>
                </div>
            </div>
        </div>
        <div class="mt-5 sm:mt-4 sm:flex sm:flex-row-reverse">
            <button @click="submitDelete()" type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm">Delete</button>
            <button @click="deleteModalOpen = false" type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm">Cancel</button>
        </div>
    </div>
</div>

